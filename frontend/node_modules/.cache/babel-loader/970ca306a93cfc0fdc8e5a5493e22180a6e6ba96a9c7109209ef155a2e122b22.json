{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nayan\\\\OneDrive\\\\Desktop\\\\my_project\\\\frontend\\\\src\\\\pages\\\\Reports.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport api from '../api/axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Reports = () => {\n  _s();\n  const [reports, setReports] = useState([]);\n  const [location, setLocation] = useState('');\n  const [description, setDescription] = useState('');\n  const [waterSource, setWaterSource] = useState('');\n  const [photo, setPhoto] = useState(null);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  useEffect(() => {\n    fetchReports();\n  }, []);\n  const fetchReports = async () => {\n    try {\n      const res = await api.get('/reports/');\n      setReports(res.data);\n    } catch (err) {\n      setError('Failed to fetch reports');\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n    const formData = new FormData();\n    formData.append('location', location);\n    formData.append('description', description);\n    formData.append('water_source', waterSource);\n    if (photo) formData.append('photo', photo);\n    try {\n      await api.post('/reports/', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      setSuccess('Report submitted!');\n      setLocation('');\n      setDescription('');\n      setWaterSource('');\n      setPhoto(null);\n      fetchReports();\n    } catch (err) {\n      setError('Failed to submit report');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-semibold mb-4\",\n      children: \"User Reports\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"mb-6 space-y-2\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"border p-2 rounded w-full\",\n        type: \"text\",\n        placeholder: \"Location\",\n        value: location,\n        onChange: e => setLocation(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"border p-2 rounded w-full\",\n        type: \"text\",\n        placeholder: \"Water Source\",\n        value: waterSource,\n        onChange: e => setWaterSource(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"border p-2 rounded w-full\",\n        placeholder: \"Description\",\n        value: description,\n        onChange: e => setDescription(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"border p-2 rounded w-full\",\n        type: \"file\",\n        accept: \"image/*\",\n        onChange: e => setPhoto(e.target.files[0])\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-red-500\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 19\n      }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-green-600\",\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bg-blue-600 text-white p-2 rounded w-full\",\n        type: \"submit\",\n        children: \"Submit Report\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-semibold mb-2\",\n        children: \"Recent Reports\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: reports.map(r => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"mb-2 border-b pb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Location:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 20\n            }, this), \" \", r.location]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Water Source:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 20\n            }, this), \" \", r.water_source]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Description:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 20\n            }, this), \" \", r.description]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this), r.photo_url && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: r.photo_url,\n            alt: \"Report\",\n            className: \"w-32 mt-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-500\",\n            children: new Date(r.created_at).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this)]\n        }, r.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(Reports, \"Cjkaa6y3S7GbOGBPsy6nd8UmMpg=\");\n_c = Reports;\nexport default Reports;\nvar _c;\n$RefreshReg$(_c, \"Reports\");","map":{"version":3,"names":["React","useState","useEffect","api","jsxDEV","_jsxDEV","Reports","_s","reports","setReports","location","setLocation","description","setDescription","waterSource","setWaterSource","photo","setPhoto","error","setError","success","setSuccess","fetchReports","res","get","data","err","handleSubmit","e","preventDefault","formData","FormData","append","post","headers","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","required","accept","files","map","r","water_source","photo_url","src","alt","Date","created_at","toLocaleString","id","_c","$RefreshReg$"],"sources":["C:/Users/nayan/OneDrive/Desktop/my_project/frontend/src/pages/Reports.jsx"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport api from '../api/axios';\r\n\r\nconst Reports = () => {\r\n  const [reports, setReports] = useState([]);\r\n  const [location, setLocation] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [waterSource, setWaterSource] = useState('');\r\n  const [photo, setPhoto] = useState(null);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchReports();\r\n  }, []);\r\n\r\n  const fetchReports = async () => {\r\n    try {\r\n      const res = await api.get('/reports/');\r\n      setReports(res.data);\r\n    } catch (err) {\r\n      setError('Failed to fetch reports');\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess('');\r\n    const formData = new FormData();\r\n    formData.append('location', location);\r\n    formData.append('description', description);\r\n    formData.append('water_source', waterSource);\r\n    if (photo) formData.append('photo', photo);\r\n    try {\r\n      await api.post('/reports/', formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' },\r\n      });\r\n      setSuccess('Report submitted!');\r\n      setLocation('');\r\n      setDescription('');\r\n      setWaterSource('');\r\n      setPhoto(null);\r\n      fetchReports();\r\n    } catch (err) {\r\n      setError('Failed to submit report');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4\">\r\n      <h2 className=\"text-xl font-semibold mb-4\">User Reports</h2>\r\n      <form className=\"mb-6 space-y-2\" onSubmit={handleSubmit}>\r\n        <input\r\n          className=\"border p-2 rounded w-full\"\r\n          type=\"text\"\r\n          placeholder=\"Location\"\r\n          value={location}\r\n          onChange={e => setLocation(e.target.value)}\r\n          required\r\n        />\r\n        <input\r\n          className=\"border p-2 rounded w-full\"\r\n          type=\"text\"\r\n          placeholder=\"Water Source\"\r\n          value={waterSource}\r\n          onChange={e => setWaterSource(e.target.value)}\r\n          required\r\n        />\r\n        <textarea\r\n          className=\"border p-2 rounded w-full\"\r\n          placeholder=\"Description\"\r\n          value={description}\r\n          onChange={e => setDescription(e.target.value)}\r\n          required\r\n        />\r\n        <input\r\n          className=\"border p-2 rounded w-full\"\r\n          type=\"file\"\r\n          accept=\"image/*\"\r\n          onChange={e => setPhoto(e.target.files[0])}\r\n        />\r\n        {error && <div className=\"text-red-500\">{error}</div>}\r\n        {success && <div className=\"text-green-600\">{success}</div>}\r\n        <button className=\"bg-blue-600 text-white p-2 rounded w-full\" type=\"submit\">Submit Report</button>\r\n      </form>\r\n      <div>\r\n        <h3 className=\"font-semibold mb-2\">Recent Reports</h3>\r\n        <ul>\r\n          {reports.map(r => (\r\n            <li key={r.id} className=\"mb-2 border-b pb-2\">\r\n              <div><b>Location:</b> {r.location}</div>\r\n              <div><b>Water Source:</b> {r.water_source}</div>\r\n              <div><b>Description:</b> {r.description}</div>\r\n              {r.photo_url && <img src={r.photo_url} alt=\"Report\" className=\"w-32 mt-1\" />}\r\n              <div className=\"text-xs text-gray-500\">{new Date(r.created_at).toLocaleString()}</div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reports;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}